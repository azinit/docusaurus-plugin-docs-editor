"use strict";(self.webpackChunkdocusaurus_plugin_docs_editor_preview=self.webpackChunkdocusaurus_plugin_docs_editor_preview||[]).push([[669],{311:function(e,t,n){n.r(t),n.d(t,{default:function(){return Ce}});var r=n(5861),a=n(7757),o=n.n(a),c=n(7294),u=n(7501),s=n.n(u),i=n(7458),l=n.n(i),d=n(6010),p=n(2263),f=n(4996),h=n(6470),m=n(5745),g=n.n(m),v=n(6344),w=n.n(v),b=n(3839),x=n.n(b),k=n(308),E=n.n(k),_=n(1374),Z=n.n(_),y=n(9514),N=n.n(y),C=n(992),L=n(6856),S=n(128),P=n(7082),T=n(54),R=n(5758),z=n(8481),A=n(2361),I=n(7191),U=n(1769),B=n(2693),H=n(6829),O=n(2943),q=n(9802),M=n(6950),G=n(3427),j=n(5961),F=n(9457),W=n(9068),V=n(1522),D=n(9401),J=n(7532),$=n.n(J),K=n(3322),Q=n.n(K),X=n(582),Y=n.n(X),ee=n(4825),te=n.n(ee),ne=n(3734),re=n.n(ne),ae=n(2861),oe=n.n(ae),ce=n(5941),ue=n.n(ce),se=n(979),ie=n(4796),le=n.n(ie),de=n(7597),pe=n.n(de),fe=n(8818),he=n.n(fe),me=n(5893),ge=n(5006),ve=n.n(ge),we=n(7855),be=n(2859),xe=[1,2,3,4,5,6],ke=function(e){var t=e.children;return c.createElement("div",{className:(0,d.Z)("editor__group","margin-vert--sm","padding-horiz--xs")},t)},Ee=function(e){var t=e.editor,n=e.name,r=e.action,a=e.children;return c.createElement("button",{className:(0,d.Z)("editor__control","margin-horiz--xs",n&&t.isActive(n)&&"editor__control--active"),onClick:r},c.createElement("span",{className:"editor__icon"},a))};function _e(e){var t=e.editor,n=e.save,r=e.submit,a=e.dirty,o=e.syncing,u=e.pullrequest,s=e.className;return t?c.createElement(c.Fragment,null,c.createElement(be.Z,null,c.createElement("link",{href:"https://fonts.googleapis.com/icon?family=Material+Icons",rel:"stylesheet"})),c.createElement("div",{className:(0,d.Z)("editor__menu",s)},c.createElement("div",{className:(0,d.Z)("editor__submenu")},c.createElement(ke,null,c.createElement(Ee,{editor:t,action:function(){return t.chain().focus().undo().run()}},"undo"),c.createElement(Ee,{editor:t,action:function(){return t.chain().focus().redo().run()}},"redo")),c.createElement(ke,null,c.createElement("select",{className:(0,d.Z)("editor__select","margin-horiz--xs"),value:function(){var e=[];t.isActive("code")&&e.push("code"),t.isActive("paragraph")&&e.push("paragraph");for(var n,r=(0,we.Z)(xe);!(n=r()).done;){var a=n.value;t.isActive("heading",{level:a})&&e.push(a.toString())}return 1==e.length?e[0]:""}(),onChange:function(e){e.preventDefault();var n=e.target.value;if("code"===n)t.chain().focus().clearNodes().setCode().run();else if("paragraph"===n)t.chain().focus().unsetCode().setParagraph().run();else{var r=parseInt(n);xe.includes(r)&&t.chain().focus().clearNodes().unsetCode().setHeading({level:r}).selectParentNode().unsetCode().run()}}},c.createElement("option",{hidden:!0,disabled:!0,value:""}),c.createElement("option",{value:"paragraph"},"Normal text"),xe.map((function(e){return c.createElement("option",{key:e,value:e},"Heading "+e)})),c.createElement("option",{value:"code"},"Inline code"))),c.createElement(ke,null,c.createElement(Ee,{editor:t,action:function(){return t.chain().focus().toggleBold().run()},name:"bold"},"format_bold"),c.createElement(Ee,{editor:t,action:function(){return t.chain().focus().toggleItalic().run()},name:"italic"},"format_italic"),c.createElement(Ee,{editor:t,action:function(){if(t.isActive("link")){var e=t.state,n=e.selection,r=n.from,a=n.to,o=[];e.doc.nodesBetween(r,a,(function(e){o=[].concat(o,e.marks)}));var c=o.find((function(e){return"link"===e.type.name})),u=c&&c.attrs.href?c.attrs.href:"";(u=window.prompt("Update or remove the URL",u))?t.chain().focus().extendMarkRange("link").setLink({href:u}).run():t.chain().focus().unsetLink().run()}else{var s=window.prompt("Add a URL");s&&t.chain().focus().extendMarkRange("link").setLink({href:s}).run()}},name:"link"},"link")),c.createElement(ke,null,c.createElement(Ee,{editor:t,action:function(){return t.chain().focus().toggleBulletList().run()},name:"bulletList"},"format_list_bulleted"),c.createElement(Ee,{editor:t,action:function(){return t.chain().focus().toggleOrderedList().run()},name:"orderedList"},"format_list_numbered"),c.createElement(Ee,{editor:t,action:function(){return t.chain().focus().toggleCodeBlock().run()},name:"codeBlock"},"code"),c.createElement(Ee,{editor:t,action:function(){return t.chain().focus().toggleBlockquote().run()},name:"blockquote"},"format_quote")),c.createElement(ke,null,c.createElement(Ee,{editor:t,action:function(){return t.chain().focus().setHorizontalRule().run()}},"horizontal_rule"),c.createElement(Ee,{editor:t,action:function(){return t.chain().focus().setHardBreak().run()}},"keyboard_return")),c.createElement(ke,null,c.createElement(Ee,{editor:t,action:function(){return t.chain().focus().unsetAllMarks().clearNodes().run()}},"format_clear"))),c.createElement("div",{className:(0,d.Z)("editor__submenu")},c.createElement(ke,null,c.createElement("button",{className:"button button--sm button--primary margin-horiz--xs",disabled:o||!a,onClick:function(){t.chain().focus().run(),n()}},"Save"),u?c.createElement("a",{className:"button button--sm button--outline button--primary margin-horiz--xs",href:u,target:"_blank"},"Review"):c.createElement("button",{className:"button button--sm button--primary margin-horiz--xs",disabled:o,onClick:function(){t.chain().focus().run(),r()}},"Submit"))))):null}function Ze(e){var t=e.editor,n=e.className;return c.createElement("div",{className:(0,d.Z)("editor__page",n)},c.createElement(C.kg,{editor:t,className:"editor__content"}))}function ye(){return null}var Ne=function(e){var t=e.node.attrs.language,n=e.updateAttributes,r=e.extension,a=(0,c.useState)(t),o=a[0],u=a[1];return c.createElement(C.T5,{className:"codeblock"},c.createElement("select",{className:"codeblock__language",contentEditable:!1,defaultValue:t,onChange:function(e){return function(e){u(e),n({language:e})}(e.target.value)}},c.createElement("option",{value:!0},"auto"),c.createElement("option",{disabled:!0},"---"),r.options.lowlight.listLanguages().map((function(e,t){return c.createElement("option",{key:t,value:e},e)}))),c.createElement("pre",{className:"codeblock__code"},c.createElement(C.ms,{as:"code",className:(0,d.Z)(o?"language-"+o:"")})))};function Ce(e){var t=e.options,n=e.className,a=(0,c.useState)(""),u=a[0],i=a[1],m=(0,c.useState)(""),g=m[0],v=m[1],w=(0,c.useState)(),b=w[0],x=w[1],k=(0,c.useState)(),E=k[0],_=k[1],Z=(0,c.useState)(),y=Z[0],N=Z[1],J=(0,c.useState)(),K=J[0],X=J[1],ee=(0,c.useState)(!1),ne=ee[0],ae=ee[1],ce=(0,c.useState)(""),ie=ce[0],de=ce[1],fe=(0,c.useState)(""),ge=fe[0],we=fe[1],be=(0,c.useState)(!1),xe=be[0],ke=be[1],Ee=(0,p.Z)(),Ce=(0,f.Z)(t.route||"edit"),Le=Ee.siteConfig.organizationName,Se=Ee.siteConfig.projectName,Pe="docs";t.docs&&(Le=t.docs.owner||Le,Se=t.docs.repo||Se,Pe=t.docs.path||Pe);var Te="static";t.static&&(Te=t.static.path||Te);var Re=t.github.clientId,ze=t.github.tokenUrl;ze&&!ze.endsWith("/")&&(ze+="/");var Ae=t.github.method?t.github.method.toUpperCase():"GET";if(!["GET","POST"].includes(Ae))throw"Authorization request method must be GET or POST.";var Ie=(0,C.jE)({extensions:[L.ZP,S.ZP,P.ZP,T.ZP,R.Z.extend({addNodeView:function(){return(0,C.fW)(Ne)}}).configure({lowlight:h}),z.Z,A.Z,I.Z,U.Z,B.Z,H.Z,q.ZP,O.ZP,M.Z.configure({openOnClick:!1}),G.Z,j.ZP,F.Z,W.Z],autofocus:"start",onUpdate:function(e){var t=e.editor;we(t.getHTML())}}),Ue=function(e){var t=new URL("https://github.com/login/oauth/authorize"),n=t.searchParams;n.append("client_id",Re),n.append("scope","public_repo"),n.append("redirect_uri",e),window.location.replace(t)},Be=function(){var e=(0,r.Z)(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("GET"!==Ae){e.next=7;break}return n=new URL(t,ze),e.next=4,fetch(n).then((function(e){return e.json()})).then((function(e){return e.token}));case 4:case 10:return e.abrupt("return",e.sent);case 7:if("POST"!==Ae){e.next=13;break}return e.next=10,fetch(ze,{method:"POST",mode:"cors",headers:{"content-type":"application/json"},body:JSON.stringify({code:t})}).then((function(e){return e.json()})).then((function(e){return e.token}));case 13:throw"Authorization request method must be GET or POST.";case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),He=function(){var e=(0,r.Z)(o().mark((function e(){var t,n,a,c,u,s,i,l,d,p;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=new URL(window.location.pathname,window.location.origin),n=new URLSearchParams(window.location.search),!(a=n.get("code"))){e.next=18;break}return window.history.replaceState(window.history.state,"",t),e.next=7,Be(a);case 7:return c=e.sent,u=V.v.plugin(D.T),s=new u({auth:c}),i=s.hook,l=s.rest,i.error("request",function(){var e=(0,r.Z)(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(403!==t.status){e.next=5;break}return e.next=3,He();case 3:e.next=6;break;case 5:throw t;case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=13,l.users.getAuthenticated();case 13:return d=e.sent,p=d.data.login,e.abrupt("return",{api:l,user:p});case 18:Ue(t);case 19:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Oe=function(){var e=(0,r.Z)(o().mark((function e(){var t,n,r,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K.api.repos.createFork({owner:Le,repo:Se});case 2:return t=e.sent,n=t.data,r=n.name,a=n.owner.login,e.next=8,new Promise((function(e,t){var n=setInterval((function(){K.api.repos.get({owner:a,repo:r}).then((function(t){clearInterval(n),e(t)})).catch((function(e){404!==e.status&&t(e)}))}),1e3)}));case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),qe=function(){var e=(0,r.Z)(o().mark((function e(t,n){var r,a,c,u,s,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,K.api.repos.get({owner:t,repo:n});case 3:case 11:r=e.sent,e.next=15;break;case 6:if(e.prev=6,e.t0=e.catch(0),404!==e.t0.status||t===Le){e.next=14;break}return e.next=11,Oe();case 14:throw e.t0;case 15:if(a=r.data,c=a.name,u=a.owner.login,s=a.parent,u===Le){e.next=24;break}if(!s){e.next=23;break}if(i=s.name,s.owner.login===Le||i===Se){e.next=21;break}throw"Repo is not a fork of "+Le+"/"+Se;case 21:e.next=24;break;case 23:throw"Repo is not a fork of "+Le+"/"+Se;case 24:return e.abrupt("return",{owner:u,repo:c});case 25:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n){return e.apply(this,arguments)}}(),Me=function(){var e=(0,r.Z)(o().mark((function e(t,n,r){var a,c,u,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K.api.repos.get({owner:Le,repo:Se});case 2:return a=e.sent,c=a.data.default_branch,e.next=6,K.api.repos.getBranch({owner:Le,repo:Se,branch:c});case 6:return u=e.sent,s=u.data.commit.sha,e.next=10,K.api.git.createRef({owner:t,repo:n,sha:s,ref:"refs/heads/"+r});case 10:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),Ge=function(){var e=(0,r.Z)(o().mark((function e(t,n,r){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,K.api.repos.getBranch({owner:t,repo:n,branch:r});case 3:case 10:e.next=13;break;case 5:if(e.prev=5,e.t0=e.catch(0),404!==e.t0.status){e.next=12;break}return e.next=10,Me(t,n,r);case 12:throw e.t0;case 13:return e.abrupt("return",r);case 14:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t,n,r){return e.apply(this,arguments)}}(),je=function(){var e=(0,r.Z)(o().mark((function e(t,n,r,a){var c,u,i,d,p,f,h,m;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K.api.repos.getContent({owner:t,repo:n,path:a,ref:"refs/heads/"+r});case 2:return c=e.sent,u=c.data.content,i=l().decode(s().decode(u)),d="https://raw.githubusercontent.com/"+t+"/"+n+"/"+r+"/"+Te+"/",p=(0,me.default)().use(oe()).use(ue(),["yaml"]).use(pe(),{yaml:ve().parse,remove:!0}).use(se.Z).use(le(),{absolutePath:d}).use(he()).use($()),e.next=9,p.process(i);case 9:f=e.sent,h=f.data,m=f.contents,x(h),Ie.chain().setContent(m).focus("start").run(),de(Ie.getHTML()),we(Ie.getHTML());case 16:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),Fe=function(){var e=(0,r.Z)(o().mark((function e(t,n,r,a){var c,u,d,p,f,h,m,g,v,w;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c="https://raw.githubusercontent.com/"+t+"/"+n+"/"+r+"/"+Te+"/",u=function(e){if(e.href.startsWith(c))return"/"+e.href.slice(c.length)},d=Ie.getHTML(),p=(0,me.default)().use(Q()).use(Y(),u).use(te()).use(re(),{bullet:"-",rule:"-",listItemIndent:"mixed"}),e.next=6,p.process(d);case 6:return f=e.sent,h=f.contents,b&&(m=ve().stringify(b),h="---\n"+m+"---\n\n"+h),g=s().encode(l().encode(h)),ae(!0),e.next=13,K.api.repos.getContent({owner:t,repo:n,path:a,ref:"refs/heads/"+r});case 13:return v=e.sent,w=v.data.sha,i("Saving changes..."),e.next=18,K.api.repos.createOrUpdateFileContents({owner:t,repo:n,branch:r,path:a,sha:w,content:g,message:"Edit "+y});case 18:return de(d),i("Changes have been saved, syncing with GitHub..."),e.next=22,new Promise((function(e,o){var c=setInterval((function(){K.api.repos.getContent({owner:t,repo:n,path:a,ref:"refs/heads/"+r}).then((function(t){t.data.sha!=w&&(clearInterval(c),ae(!1),i("Changes have been saved"),e())})).catch((function(e){404!==e.status&&(ae(!1),i("An error occured during sync"),o(e))}))}),1e3)}));case 22:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),We=function(){var e=(0,r.Z)(o().mark((function e(t,n){var r,a,c,u,s,l,d;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t+":"+n,e.next=3,K.api.pulls.list({owner:Le,repo:Se,state:"open",head:r});case 3:if(a=e.sent,!(c=a.data).length){e.next=10;break}v(c[0].html_url),i("Changes already submitted"),e.next=21;break;case 10:return i("Submitting changes..."),e.next=13,K.api.repos.get({owner:Le,repo:Se});case 13:return u=e.sent,s=u.data.default_branch,e.next=17,K.api.pulls.create({owner:Le,repo:Se,base:s,head:r,title:"Edit "+y});case 17:l=e.sent,d=l.data.html_url,v(d),i("Changes submitted");case 21:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Ve=function(){var e=(0,r.Z)(o().mark((function e(){var t,n,r,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,He();case 2:t=e.sent,n=window.location.pathname.slice(Ce.length).replace(/\/$/,""),a="edit/"+(r=""+Pe+n+".md").replace(/[/.]/g,"-"),X(t),_(a),N(r);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),De=function(){var e=(0,r.Z)(o().mark((function e(){var t,n,r,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qe(K.user,Se);case 2:return t=e.sent,n=t.owner,r=t.repo,e.next=7,Ge(n,r,E);case 7:return a=e.sent,e.next=10,je(n,r,a,y);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Je=function(){var e=(0,r.Z)(o().mark((function e(){var t,n,r,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!xe){e.next=11;break}return e.next=3,qe(K.user,Se);case 3:return t=e.sent,n=t.owner,r=t.repo,e.next=8,Ge(n,r,E);case 8:return a=e.sent,e.next=11,Fe(n,r,a,y);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),$e=function(){var e=(0,r.Z)(o().mark((function e(){var t,n,r,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qe(K.user,Se);case 2:return t=e.sent,n=t.owner,r=t.repo,e.next=7,Ge(n,r,E);case 7:if(a=e.sent,!xe){e.next=11;break}return e.next=11,Fe(n,r,a,y);case 11:return e.next=13,We(n,a);case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,c.useEffect)((function(){document.documentElement.dataset.theme="light",i("Getting ready..."),Ve(),i("Ready to edit")}),[]),(0,c.useEffect)((function(){K&&E&&y&&De()}),[K,E,y]),(0,c.useEffect)((function(){ke(ge!==ie)}),[ge,ie]),c.createElement(c.Fragment,null,K?c.createElement("div",{className:(0,d.Z)("editor",n)},c.createElement("div",{className:"editor__announcements padding-horiz--md padding-vert--xs"},u),c.createElement(_e,{editor:Ie,save:Je,submit:$e,dirty:xe,syncing:ne,pullrequest:g}),c.createElement(Ze,{editor:Ie})):c.createElement(ye,null))}h.registerLanguage("c",g()),h.registerLanguage("javascript",w()),h.registerLanguage("markdown",x()),h.registerLanguage("python",E()),h.registerLanguage("rust",Z()),h.registerLanguage("shell",N())}}]);